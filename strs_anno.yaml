version: "2.0"
stories:
  #- story: greet and then query knowledge base
  #  steps:
  #  - intent: greet
  #  - action: utter_greet
  #  - action: utter_welcome_message
  #  - intent: query_knowledge_base
  #  - slot_was_set:
  #    - entity_type: entry_regulations
  #  - action: validate_entry_regulations_form
  #  - action: action_query_knowledgebase_cases

#  - story: Query + some regulations apply
#    steps:
#    - intent: greet
#    - action: utter_greet
#    - action: utter_welcome_message

#    - intent: query_regulations
#      entities:
#      - entity_type: "entry_regulations"
#    - action: destination_country_form
#    - active_loop: destination_country_form
#    - active_loop: null
#    - slot_was_set:
#      - country: "Germany"

#    - action: no_entry_regulations_apply_form
#    - active_loop: no_entry_regulations_apply_form
   # - action: no_entry_regulations_apply_form
#    - active_loop: null

   # - action: entry_regulations_apply_form
   # - active_loop: entry_regulations_apply_form
   # - action: entry_regulations_apply_form
   # - active_loop: null

#    - action: action_query_knowledgebase_cases



  - story: Query + no country details + transit
    steps:
    - intent: greet
    - action: utter_greet
    - action: utter_welcome_message

    - intent: query_regulations
      entities:
      - entity_type: "entry_regulations"
    - action: destination_country_form
    - active_loop: destination_country_form
    - active_loop: null
    - slot_was_set:
      - country: "Germany"
     # entities:
     # - country: "Germany"

    - action: no_entry_regulations_apply_form
    - active_loop: no_entry_regulations_apply_form
    - active_loop: null
    - slot_was_set:
      - transit: True
    - action: action_query_knowledgebase_cases


  - story: Query + no country details + entry for<24h
    steps:
    - intent: greet
    - action: utter_greet
    - action: utter_welcome_message

    - intent: query_regulations
#    - slot_was_set:
#      - entity_type: entry_regulations
      entities:
      - country: "Germany"
      - entity_type: "entry_regulations"
#    - slot_was_set:
#      - country: "Germany"
    #- action: destination_country_form
    #- active_loop: destination_country_form
    #- active_loop: null

    #- action: destination_country_form
    #- active_loop: destination_country_form
    #- active_loop: null

    - action: no_entry_regulations_apply_form
    - active_loop: no_entry_regulations_apply_form
    - active_loop: null
    - slot_was_set:
      - entry_for_less_than_24h: True
    - action: action_query_knowledgebase_cases

